{% extends "base.html" %}
{% load i18n %}

{% block title %}{{ task.name }}{% endblock %}

{% block content %}
  <h1 class="mb-4">{{ task.name }}</h1>

  <dl class="row">
    <dt class="col-sm-3">Status</dt>
    <dd class="col-sm-9">{{ task.status }}</dd>

    <dt class="col-sm-3">Author</dt>
    <dd class="col-sm-9">{{ task.author.get_full_name }}</dd>

    <dt class="col-sm-3">Executor</dt>
    <dd class="col-sm-9">
      {% if task.executor %}
        {{ task.executor.get_full_name }}
      {% else %}
        –
      {% endif %}
    </dd>

    <dt class="col-sm-3">Created at</dt>
    <dd class="col-sm-9">{{ task.created_at|date:"Y-m-d H:i" }}</dd>

    <dt class="col-sm-3">Labels</dt>
    <dd class="col-sm-9">
      {% for label in task.labels.all %}
        {{ label.name }}{% if not forloop.last %}, {% endif %}
      {% empty %}
        –
      {% endfor %}
    </dd>
  </dl>

  {% if task.description %}
    <h2 class="h5 mt-4 mb-2">{% trans "Description" %}</h2>
    <p>{{ task.description|linebreaksbr }}</p>
  {% endif %}

  <div class="mt-4">
    <a class="btn btn-outline-secondary" href="{% url 'tasks:list' %}">
      {% trans "Back to list" %}
    </a>
    <a class="btn btn-outline-primary" href="{% url 'tasks:update' task.pk %}">
      {% trans "Edit" %}
    </a>
    {% if request.user == task.author %}
      <a class="btn btn-outline-danger" href="{% url 'tasks:delete' task.pk %}">
        {% trans "Delete" %}
      </a>
    {% endif %}
  </div>
{% endblock %}
